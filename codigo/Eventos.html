<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visualização de Eventos</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<style>
    /* Estilo para a barra lateral */
    .sidebar {
        position: fixed;
        top: 16%;
        left: 0;
        height: 100%;
        width: 280px;
        padding: 20px;
        background-color: #d3d3d3;
        color: white;
        border-radius: 10px;
    }

    /* Estilo para o conteúdo da lista */
    .event-list {
        margin-left: 300px; /* Margem à esquerda para deixar espaço para a barra lateral */
        padding: 30px;
    }

    .event {
        margin-bottom: 40px;
        padding: 20px;
        border-radius: 10px;
    }
    .event.completed {
        text-decoration: line-through;
        color: gray;
    }
    .event a {
        color: #616161;
    } 
    .event a:hover {
        color: #198754;
    }
    /* Estilo para os links coloridos */
    .list-unstyled a {
        color: #616161; /* Cor padrão dos links */
    }

    .list-unstyled a:hover {
        color: #198754; /* Cor dos links ao passar o mouse */
    }
</style>
<!--INICIO - Script do JQuery e Função para inserir o cabeçalho-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script> 
<script> 
    $(function(){
        $("#tagCabecalho").load("cabecalho.html"); 
    });
</script>
<!--FIM-->
</head>
<body>

<!-- Barra lateral -->
<div class="sidebar">
    <ul class="list-unstyled">
        <li><a href="#">Home</a></li>
        <li><a href="#">Agenda</a></li>
        <li><a href="#">Eventos</a></li>
        <li><a href="#">Ajuda</a></li>
    </ul>
</div>

<!-- Cabeçalho -->
<div id="tagCabecalho"></div>

<!-- Conteúdo da lista -->
<div class="event-list">
    <h2>Adicionar Novo Evento</h2>
    <form id="eventForm">
        <div class="mb-3">
            <label for="eventName" class="form-label">Nome do Evento</label>
            <input type="text" class="form-control" id="eventName" required>
        </div>
        <div class="mb-3">
            <label for="eventDate" class="form-label">Data do Evento</label>
            <input type="date" class="form-control" id="eventDate" required>
        </div>
        <div class="mb-3">
            <label for="eventLocation" class="form-label">Localização</label>
            <input type="text" class="form-control" id="eventLocation" required>
        </div>
        <div class="mb-3">
            <label for="eventDescription" class="form-label">Descrição</label>
            <textarea class="form-control" id="eventDescription" rows="3" required></textarea>
        </div>
        <button type="submit" class="btn btn-success">Adicionar Evento</button>
    </form>

    <h2 class="mt-5">Eventos Disponíveis</h2>
    <ul id="eventsList" class="unlist"></ul>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const eventForm = document.getElementById('eventForm');
        const eventsList = document.getElementById('eventsList');

        // Função para carregar eventos do Local Storage
        function loadEvents() {
            const events = JSON.parse(localStorage.getItem('events')) || [];
            eventsList.innerHTML = '';
            events.forEach((event, index) => {
                const eventItem = document.createElement('li');
                eventItem.classList.add('event', 'bg-secondary-subtle');
                if (event.completed) {
                    eventItem.classList.add('completed');
                }
                eventItem.innerHTML = `
                    <h3>${event.name}</h3>
                    <p>Data: ${event.date}</p>
                    <p>Local: ${event.location}</p>
                    <p>Descrição: ${event.description}</p>
                    <button class="btn btn-success btn-complete">Concluir</button>
                    <button class="btn btn-danger btn-delete">Deletar</button>
                `;
                eventItem.querySelector('.btn-complete').addEventListener('click', () => completeEvent(index));
                eventItem.querySelector('.btn-delete').addEventListener('click', () => deleteEvent(index));
                eventsList.appendChild(eventItem);
            });
        }

        // Função para adicionar um evento
        function addEvent(event) {
            event.preventDefault();
            const name = document.getElementById('eventName').value;
            const date = document.getElementById('eventDate').value;
            const location = document.getElementById('eventLocation').value;
            const description = document.getElementById('eventDescription').value;

            const newEvent = { name, date, location, description, completed: false };
            const events = JSON.parse(localStorage.getItem('events')) || [];
            events.push(newEvent);
            localStorage.setItem('events', JSON.stringify(events));
            loadEvents();
            eventForm.reset();
        }

        // Função para completar um evento
        function completeEvent(index) {
            const events = JSON.parse(localStorage.getItem('events')) || [];
            events[index].completed = !events[index].completed;
            localStorage.setItem('events', JSON.stringify(events));
            loadEvents();
        }

        // Função para deletar um evento
        function deleteEvent(index) {
            const events = JSON.parse(localStorage.getItem('events')) || [];
            events.splice(index, 1);
            localStorage.setItem('events', JSON.stringify(events));
            loadEvents();
        }

        // Carregar eventos ao carregar a página
        loadEvents();

        // Adicionar evento ao enviar o formulário
        eventForm.addEventListener('submit', addEvent);
    });
</script>

</body>
</html>